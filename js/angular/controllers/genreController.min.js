app.controller("genreCtrl",["$scope","$routeParams","$http","$sce","$location",function(t,e,r,a,s){t.genreId=e.g,t.showMusicInfo=!1,t.chosenTrack=a.trustAsResourceUrl("about:blank"),r({method:"GET",url:"inc/getsong.php",params:{genreId:t.genreId}}).then(function(e){if(t.playlistData=e.data,"Error"===t.playlistData||void 0!==t.playlistData.error||""===t.playlistData){s.path();s.path("/error/"+t.genreId),s.path("/error/"+t.genreId)}t.tracks=t.playlistData.tracks.items,t.title=t.playlistData.name,t.desc=a.trustAsHtml(t.decodeHtml(t.playlistData.description))},function(e){s.path();s.path("/error/"+t.genreId)}),t.showTrack=function(e){t.chosenTrack=a.trustAsResourceUrl("https://open.spotify.com/embed/track/"+e.currentTarget.id+"?theme=white"),t.showMusicInfo=!0,t.chosenTrackId=e.currentTarget.id,t.chosenTrackName=e.currentTarget.attributes["data-track-name"].value,t.chosenTrackArtists=e.currentTarget.attributes["data-track-artists"].value},t.hideTrack=function(){t.chosenTrack=a.trustAsResourceUrl("about:blank"),t.showMusicInfo=!1},t.decodeHtml=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}}]);